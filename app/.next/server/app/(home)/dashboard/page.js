(()=>{var e={};e.id=826,e.ids=[826],e.modules={796:(e,t,r)=>{"use strict";r.d(t,{C:()=>d,W:()=>i});var s=r(687),l=r(3210),a=r(6189),o=r(4211);let n=(0,l.createContext)(void 0),i=({children:e})=>{let[t,r]=(0,l.useState)(""),[i,d]=(0,l.useState)(""),[c,u]=(0,l.useState)("All Items"),[m,p]=(0,l.useState)("0"),[h,x]=(0,l.useState)([]),[b,f]=(0,l.useState)(""),[g,y]=(0,l.useState)([]),v=(0,a.useRouter)();(0,l.useEffect)(()=>{w(),j(),N(),console.log(t)},[]);let w=async()=>{let e=sessionStorage.getItem("userId");if(!e)return void v.push("/login");try{let t=await fetch(`${o.J}/api/users/${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(t.ok){let e=await t.json();console.log("Account recuperato:",e),console.log("Password decriptata dal backend:",e.password),r(e.email),d(e.password)}else console.error("Errore nel recupero dell'account:",t.statusText)}catch(e){console.error("Errore durante il recupero dell'account:",e)}},j=async()=>{let e=sessionStorage.getItem("userId");if(!e)return void v.push("/login");try{let t=await fetch(`${o.J}/api/folders?user_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(t.ok){let r=await t.json();console.log("Cartelle recuperate dal backend:",r.folders);let s=r.folders.map(t=>({id:t.id,label:t.name,account:t.created_by,shared:t.shared,editable:t.created_by===e,sharedWith:t.shared_with||[],ownerEmail:t.owner_email}));x(s)}else console.error("Errore nel recupero delle cartelle:",t.statusText)}catch(e){console.error("Errore durante il recupero delle cartelle:",e)}},N=async()=>{let e=sessionStorage.getItem("userId");if(!e)return void v.push("/login");try{let t=await fetch(`${o.J}/api/items?user_id=${e}`,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(t.ok){let e=await t.json();console.log("Elementi recuperati (tutti):",e),y(e.items.map(e=>({id:e.id,tag:e.tag,website:e.website,username:e.username,password:e.password,securityLevel:e.securityLevel||"unknown",folderID:e.folderId||"0",account:e.user_id,sharedFolder:e.shared||!1})))}else console.error("Errore nel recupero degli elementi:",t.statusText)}catch(e){console.error("Errore durante il recupero degli elementi:",e)}},C=async(e,r=!1)=>{let s=sessionStorage.getItem("userId");if(!s)return void v.push("/login");try{let l=await fetch(`${o.J}/addFolder`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,user_id:s,shared:r})}),a=await l.json();l.ok?(console.log("Cartella aggiunta:",a),x(s=>[...s,{id:a.folder_id,label:e,account:t,shared:r,editable:!0,sharedWith:[],ownerEmail:t}])):console.error("Errore dal server:",a.error)}catch(e){console.error("Errore durante la creazione della cartella:",e)}},k=async e=>{let t=sessionStorage.getItem("userId");if(!t)return void v.push("/login");try{let r=await fetch(`${o.J}/addItem`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t,tag:e.tag,username:e.username,password:e.password,website:e.website,folder_id:e.folderID})}),s=await r.json();r.ok?(console.log("Item aggiunto:",s),N()):console.error("Errore dal server:",s.error)}catch(e){console.error("Errore durante l'aggiunta dell'elemento:",e)}},S=async(e,t)=>{let r=h.find(t=>t.id===e);if(!r)return;let s={...t};"label"in s&&(s.name=s.label,delete s.label);try{if((await fetch(`${o.J}/updateFolder/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(s)})).ok){console.log("Cartella aggiornata con successo");let s={...r,...t};x(h.map(t=>t.id===e?s:t))}else console.error("Errore durante l'aggiornamento della cartella")}catch(e){console.error("Errore durante l'aggiornamento della cartella:",e)}},P=async e=>{try{let t=await fetch(`${o.J}/updateItem/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({tag:e.tag,website:e.website,username:e.username,password:e.password,folder_id:e.folderID})}),r=await t.json();t.ok?(console.log("Elemento aggiornato:",r),y(t=>t.map(t=>t.id===e.id?{...t,...e,securityLevel:r.securityLevel}:t)),N()):console.error("Errore durante l'aggiornamento dell'elemento:",r.error)}catch(e){console.error("Errore durante l'aggiornamento dell'elemento:",e)}},E=async e=>{try{let t=await fetch(`${o.J}/deleteFolder/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(t.ok)console.log("Cartella eliminata con successo"),x(t=>t.filter(t=>t.id!==e)),y(t=>t.filter(t=>t.folderID!==e)),u(t=>t===e?"All Items":t);else{let e=await t.json();console.error("Errore durante l'eliminazione della cartella:",e.error)}}catch(e){console.error("Errore durante l'eliminazione della cartella:",e)}},I=async e=>{try{let t=await fetch(`${o.J}/deleteItem/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(t.ok)console.log("Elemento eliminato con successo"),y(t=>t.filter(t=>t.id!==e));else{let e=await t.json();console.error("Errore durante l'eliminazione dell'elemento:",e.error)}}catch(e){console.error("Errore durante l'eliminazione dell'elemento:",e)}},_=async(e,t)=>{try{let r=await fetch(`${o.J}/share`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,folderId:t})});if(r.ok){let e=await r.json();return console.log("Cartella condivisa con successo:",e),{success:!0,message:e.message}}{let e=await r.json();return console.error("Errore durante la condivisione della cartella:",e.error),{success:!1,message:e.error}}}catch(e){return console.error("Errore durante la condivisione della cartella:",e),{success:!1,message:"Errore di rete"}}},A=async(e,t)=>{x(r=>r.map(r=>r.id===e?{...r,sharedWith:r.sharedWith.filter(e=>e!==t)}:r));try{let r=await fetch(`${o.J}/api/folders/${e}/remove-shared-user`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t}),credentials:"include"});if(!r.ok){let e=await r.json();console.error("Errore durante la rimozione della condivisione:",e.error)}}catch(e){console.error("Errore durante la rimozione della condivisione:",e)}},T=async(e,t,r)=>{if(t!==r)return{success:!1,error:"Le nuove password non coincidono."};let s=sessionStorage.getItem("userId");if(!s)return{success:!1,error:"Utente non loggato."};try{let r=await fetch(`${o.J}/api/users/${s}/password`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({oldPassword:e,newPassword:t}),credentials:"include"});if(r.ok)return d(t),{success:!0};{let e=await r.json();return{success:!1,error:e.error||"Errore durante l'aggiornamento della password."}}}catch{return{success:!1,error:"Errore di rete."}}};return(0,s.jsx)(n.Provider,{value:{selection:c,account:t,setAccount:r,setSelection:u,ID:m,setID:p,folders:h,setFolders:x,items:g,setItems:y,getFolders:j,getItems:N,postFolder:C,postItem:k,updateFolder:S,updateItem:P,deleteFolder:E,deleteItem:I,searchTerm:b,setSearchTerm:f,shareFolderWithUser:_,removeSharedFolderForUser:A,password:i,setPassword:d,changePassword:T},children:e})},d=()=>{let e=(0,l.useContext)(n);if(!e)throw Error("useSelection must be used within a SelectionProvider");return e}},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},957:(e,t,r)=>{Promise.resolve().then(r.bind(r,8014))},1936:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6346,23)),Promise.resolve().then(r.t.bind(r,7924,23)),Promise.resolve().then(r.t.bind(r,5656,23)),Promise.resolve().then(r.t.bind(r,99,23)),Promise.resolve().then(r.t.bind(r,8243,23)),Promise.resolve().then(r.t.bind(r,8827,23)),Promise.resolve().then(r.t.bind(r,2763,23)),Promise.resolve().then(r.t.bind(r,7173,23))},2366:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(7413);function l(){return(0,s.jsx)("div",{className:"h-screen w-screen flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xl animate-pulse",children:"404 - Page Not Found"})})}},2397:(e,t,r)=>{Promise.resolve().then(r.bind(r,5824))},2641:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(5239),l=r(8088),a=r(8170),o=r.n(a),n=r(893),i={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);r.d(t,i);let d={children:["",{children:["(home)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,6977)),"/Users/emmanuelepiola/pass-vault/app/app/(home)/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6165)),"/Users/emmanuelepiola/pass-vault/app/app/(home)/layout.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,8014)),"/Users/emmanuelepiola/pass-vault/app/app/layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,9766)),"/Users/emmanuelepiola/pass-vault/app/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,2366)),"/Users/emmanuelepiola/pass-vault/app/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,5284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/emmanuelepiola/pass-vault/app/app/(home)/dashboard/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:l.RouteKind.APP_PAGE,page:"/(home)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2688:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var s=r(3210);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),o=e=>{let t=a(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),i=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,s.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:a="",children:o,iconNode:c,...u},m)=>(0,s.createElement)("svg",{ref:m,...d,width:t,height:t,stroke:e,strokeWidth:l?24*Number(r)/Number(t):r,className:n("lucide",a),...!o&&!i(u)&&{"aria-hidden":"true"},...u},[...c.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(o)?o:[o]])),u=(e,t)=>{let r=(0,s.forwardRef)(({className:r,...a},i)=>(0,s.createElement)(c,{ref:i,iconNode:t,className:n(`lucide-${l(o(e))}`,`lucide-${e}`,r),...a}));return r.displayName=o(e),r}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3792:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6444,23)),Promise.resolve().then(r.t.bind(r,6042,23)),Promise.resolve().then(r.t.bind(r,8170,23)),Promise.resolve().then(r.t.bind(r,9477,23)),Promise.resolve().then(r.t.bind(r,9345,23)),Promise.resolve().then(r.t.bind(r,2089,23)),Promise.resolve().then(r.t.bind(r,6577,23)),Promise.resolve().then(r.t.bind(r,1307,23))},3873:e=>{"use strict";e.exports=require("path")},4145:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(687);r(7337);var l=r(7691),a=r(796);function o({label:e,icon:t}){let{selection:r,setSelection:l}=(0,a.C)(),o=r===e;return(0,s.jsxs)("div",{onClick:function(){l(e),window.dispatchEvent(new Event("hide-sidebar"))},className:`w-full flex items-center px-6 py-2 cursor-pointer transition-colors duration-200 
            ${o?"bg-blue-200 text-white":"hover:bg-gray-100 text-gray-800"}`,children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-lg",children:t}),(0,s.jsx)("div",{className:"pl-2",children:e})]})}function n({label:e}){return(0,s.jsx)("div",{className:"w-full border-0 h-[3rem] flex items-center py-[1rem] pl-[1rem] pr-[1rem] relative",children:(0,s.jsx)("label",{className:"w-full px-0 border-b-1 text-xl border-gray-500",children:e})})}function i({label:e,buttons:t}){return(0,s.jsxs)("div",{className:"w-full text-l pt-[1rem] md:pt-0",children:[(0,s.jsx)(n,{label:e}),t.map((e,t)=>(0,s.jsx)(o,{label:e.label,icon:e.icon},t))]})}var d=r(3210),c=r(1215),u=r.n(c);function m({onCreate:e,onClose:t}){let[r,s]=(0,d.useState)("");return null}function p({label:e,addFolder:t}){let[r,l]=(0,d.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"w-full flex pl-[1rem] pr-[1rem] relative items-center",children:[(0,s.jsxs)("label",{className:"w-full text-xl border-b border-gray-500",children:[e," Folders"]}),(0,s.jsx)("button",{onClick:()=>l(!0),children:(0,s.jsx)("span",{className:"material-symbols-outlined absolute right-4 bottom-0.5 cursor-pointer  text-gray-500 hover:text-black hover:scale-110 transition duration-200",children:"create_new_folder"})})]}),r&&(0,s.jsx)(m,{onCreate:e=>t(e),onClose:()=>l(!1)})]})}function h({isModalOpen:e,setIsModalOpen:t,label:r,shared:l,setShared:o,setSharedWith:n,sharedWith:i,folderAccount:c,ownerEmail:m}){let[p,h]=(0,d.useState)(!1),[x,b]=(0,d.useState)([]),{account:f,shareFolderWithUser:g}=(0,a.C)();if(!e||!p)return null;function y(){let e=x.filter(e=>""!==e.trim()&&e!==f);n(e),e.forEach(async e=>{let t=await g(e,String(c));t.success||alert(`Errore per ${e}: ${t.message}`)})}let v=[...x];for(;v.length<4;)v.push("");return u().createPortal((0,s.jsx)("div",{className:"fixed inset-0 backdrop-blur-sm flex justify-center items-center z-[9999] transition-opacity duration-300",onClick:()=>t(!1),children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-xl p-8 w-full max-w-lg mx-4 flex flex-col gap-6 relative transition-transform duration-300 scale-100",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{onClick:()=>t(!1),className:"absolute top-4 right-4 text-gray-500 hover:text-gray-900 transition","aria-label":"Close modal",children:(0,s.jsx)("span",{className:"material-symbols-outlined select-none text-3xl",children:"close"})}),(0,s.jsx)("h1",{className:"text-2xl font-semibold text-gray-800",children:"Shared with"}),v.map((e,t)=>(0,s.jsx)("input",{type:"text",placeholder:"email",value:e,onChange:e=>(function(e,t){let r=[...x];r[e]=t,b(r)})(t,e.target.value),onBlur:y,className:"w-full rounded-lg border border-gray-300 px-4 py-3 text-gray-700 placeholder-gray-400 focus:outline-none focus:ring-0 focus:border-gray-300 transition"},t)),m===f&&(0,s.jsxs)("div",{className:"flex justify-end gap-4 mt-4",children:[(0,s.jsx)("button",{onClick:()=>{t(!1)},className:"bg-blue-100 hover:bg-blue-200 text-black font-semibold px-6 py-2 rounded-lg transition duration-300 ease-in-out",children:"Confirm"}),(0,s.jsx)("button",{onClick:()=>t(!1),className:"bg-blue-100 hover:bg-blue-200 text-black font-semibold px-6 py-2 rounded-lg transition duration-300 ease-in-out",children:"Cancel"})]})]})}),document.body)}var x=r(7069);function b({folderName:e,isShared:t,onConfirm:r,onCancel:s}){return null}function f({id:e,label:t,icon:r,shared:l,sharedWith:o,folderAccount:n,ownerEmail:i,editable:c,onLabelChange:u}){let{selection:m,setSelection:p,deleteFolder:f,updateFolder:g,account:y,removeSharedFolderForUser:v}=(0,a.C)(),[w,j]=(0,d.useState)(!1),[N,C]=(0,d.useState)(!1),[k,S]=(0,d.useState)(!1),P=m===e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{onClick:function(){p(e),window.dispatchEvent(new Event("hide-sidebar"))},className:`relative w-full flex items-center px-6 py-2 cursor-pointer transition-colors duration-200 ${P?"bg-blue-200 text-white":"hover:bg-gray-100 text-gray-800"}`,children:[(0,s.jsx)("span",{className:"material-symbols-outlined text-lg flex-shrink-0",children:r}),(0,s.jsxs)("div",{className:"pl-2 w-full pr-10 relative",children:[(0,s.jsx)("span",{className:"block truncate overflow-hidden whitespace-nowrap w-full",title:t,children:t}),(0,s.jsx)("div",{className:"absolute right-[-0.5rem] top-0",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-sm text-gray-400 hover:text-red-700 cursor-pointer",onClick:function(e){e.stopPropagation(),C(!0)},title:"Delete folder",children:"delete"})}),(0,s.jsxs)("div",{className:"absolute right-[1.2rem] top-0 flex items-center",children:[i===y&&(0,s.jsx)("span",{className:"material-symbols-outlined text-sm text-gray-400 cursor-pointer hover:text-green-700",onClick:function(e){e.stopPropagation(),S(!0)},title:l?"Unshare folder":"Share folder",children:"link"}),l&&(0,s.jsx)("span",{className:"material-symbols-outlined text-sm text-gray-400 cursor-pointer hover:text-blue-700 ml-2",onClick:function(e){e.stopPropagation(),j(!0)},title:"View shared users",children:"people"}),(0,s.jsx)(h,{sharedWith:o,setSharedWith:function(e){},setShared:t=>g(e,{shared:t}),isModalOpen:w,setIsModalOpen:j,label:t,shared:l,folderAccount:n,ownerEmail:i})]})]})]}),N&&(0,s.jsx)(x.A,{folderName:t,onConfirm:function(){i===y?f(e):v(e,y),C(!1)},onCancel:function(){C(!1)}}),k&&(0,s.jsx)(b,{folderName:t,isShared:l,onConfirm:function(){g(e,{shared:!l}),S(!1)},onCancel:function(){S(!1)}})]})}function g({label:e}){let{folders:t,ID:r,updateFolder:l,postFolder:o,account:n}=(0,a.C)(),i=async t=>{await o(t,"Shared"===e)},d=t.filter(t=>{let r=!!t.shared;return console.log(`Cartella: ${t.label}, shared: ${r}`),"Shared"===e?r:!r});return(0,s.jsxs)("div",{className:"w-full text-l pt-[1rem]",children:[(0,s.jsx)(p,{label:e,addFolder:i}),d.map((e,t)=>(0,s.jsx)(f,{folderAccount:e.account,id:e.id,label:e.label,icon:e.shared?"folder_shared":"folder",shared:e.shared,sharedWith:e.sharedWith,editable:e.editable,onLabelChange:t=>l(e.id,{label:t}),ownerEmail:e.ownerEmail},t))]})}function y(){return(0,s.jsxs)("div",{className:"bg-blue-100 backdrop-blur-sm h-[100vh] w-full md:w-[25rem] flex flex-col shadow-xl border-r border-blue-200/50",children:[(0,s.jsx)("div",{className:"hidden md:block flex-none p-4 border-b border-blue-200/50",children:(0,s.jsx)(l.A,{})}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,s.jsx)(i,{label:"Vault Navigation",buttons:[{label:"All Items",icon:"apps"},{label:"Password Health",icon:"ecg_heart"},{label:"Password Generator",icon:"lock_reset"},{label:"Settings",icon:"settings"}]}),(0,s.jsx)(g,{label:""}),(0,s.jsx)(g,{label:"Shared"})]})]})}function v({children:e}){let[t,r]=(0,d.useState)("content");return(0,s.jsx)("div",{className:"h-[100dvh] w-[100dvw] overflow-hidden bg-white",children:(0,s.jsxs)(a.W,{children:[(0,s.jsxs)("div",{className:"hidden md:flex h-full w-full flex-row",children:[(0,s.jsx)(y,{}),(0,s.jsx)("div",{className:"h-full w-full",children:e})]}),(0,s.jsxs)("div",{className:"relative md:hidden h-full w-full overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 h-full w-full transition-transform duration-300 ease-in-out",style:{transform:"sidebar"===t?"translateX(0%)":"translateX(-100%)"},children:(0,s.jsx)(y,{})}),(0,s.jsx)("div",{className:"absolute top-0 left-0 h-full w-full transition-transform duration-300 ease-in-out",style:{transform:"content"===t?"translateX(0%)":"translateX(100%)"},children:e})]})]})})}},4178:(e,t,r)=>{Promise.resolve().then(r.bind(r,7814))},4211:(e,t,r)=>{"use strict";r.d(t,{J:()=>s});let s=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8000"},4426:(e,t,r)=>{Promise.resolve().then(r.bind(r,6977))},4500:(e,t,r)=>{Promise.resolve().then(r.bind(r,6165))},5824:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(687),l=r(9349);function a({children:e}){return(0,s.jsxs)("html",{lang:"en",children:[(0,s.jsxs)("head",{children:[(0,s.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200",rel:"stylesheet"}),(0,s.jsx)("link",{rel:"icon",type:"image/x-icon",href:"/favicon.ico"})]}),(0,s.jsx)("body",{className:"w-screen h-screen",children:(0,s.jsx)(l.G_,{clientId:"1089193853256-4allc1dk9nipib57a06o16g53o9jaqb9.apps.googleusercontent.com",children:e})})]})}r(6080)},6055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(1658);let l=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},6080:()=>{},6165:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/emmanuelepiola/pass-vault/app/app/(home)/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/emmanuelepiola/pass-vault/app/app/(home)/layout.tsx","default")},6189:(e,t,r)=>{"use strict";var s=r(5773);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},6487:()=>{},6977:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/emmanuelepiola/pass-vault/app/app/(home)/dashboard/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/emmanuelepiola/pass-vault/app/app/(home)/dashboard/page.tsx","default")},7069:(e,t,r)=>{"use strict";function s({folderName:e,onConfirm:t,onCancel:r}){return null}r.d(t,{A:()=>s}),r(687),r(1215)},7337:()=>{},7691:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(687),l=r(2688);let a=(0,l.A)("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),o=(0,l.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);var n=r(796);function i(){let{searchTerm:e,setSearchTerm:t,selection:r}=(0,n.C)();return(0,s.jsx)("div",{className:"h-[5rem] py-[1rem] pl-[0.8rem] md:h-[4rem] w-full md:pl-[1rem] md:pr-[1rem] md:pt-[1rem] md:pb-[1rem]",children:(0,s.jsxs)("div",{className:"h-full w-full flex items-center relative",children:[(0,s.jsx)("div",{className:"flex mr-4 md:hidden items-center gap-2",children:(0,s.jsx)(a,{className:"text-gray-600 w-10 h-10",onClick:()=>{window.dispatchEvent(new Event("show-sidebar"))}})}),(0,s.jsxs)("div",{className:`${"Password Generator"===r||"Settings"===r?"hidden md:flex":"flex"} w-full h-10 md:h-full items-center relative`,children:[(0,s.jsx)(o,{className:"absolute md:top-1 top-2 md:left-2 left-3 text-gray-600 w-6 h-6"}),(0,s.jsx)("form",{action:"",className:"h-full w-full",onSubmit:e=>e.preventDefault(),children:(0,s.jsx)("input",{className:"border-1 bg-white border-gray-600 h-full w-full rounded-3xl pl-[2.5rem] pr-[1rem] outline-none md:text-base text-2xl",type:"text",placeholder:"Search",value:e,onChange:e=>{t(e.target.value)}})})]})]})})}},7814:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>C});var s=r(687),l=r(796),a=r(3210);function o({isModalOpen:e,setIsModalOpen:t}){let{ID:r,selection:o,setID:n,postItem:i,account:d}=(0,l.C)(),[c,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),[h,x]=(0,a.useState)(""),[b,f]=(0,a.useState)(""),[g,y]=(0,a.useState)(""),[v,w]=(0,a.useState)(""),[j,N]=(0,a.useState)(!1),[C,k]=(0,a.useState)(!1),S=(0,a.useRef)(null);function P(){t(!1),x(""),f(""),y(""),w(""),N(!1),k(!1)}let E=async e=>{e.preventDefault(),n(parseInt(r).toString()),await i({account:d,id:r,tag:h,website:b,username:g,password:v,folderID:"All Items"===o||"Password Health"===o?"0":o,securityLevel:"unknown",sharedFolder:!1}),P()};return c?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm bg-black/30 px-4",children:(0,s.jsxs)("div",{className:`bg-white rounded-lg shadow-lg relative p-6
          transform transition-all duration-300 ease-in-out
          ${m?"opacity-100 scale-100":"opacity-0 scale-95"}
          max-w-[600px] w-full max-h-[90vh] overflow-auto`,children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Add Password"}),(0,s.jsx)("span",{onClick:P,className:"material-symbols-outlined cursor-pointer text-gray-600 hover:text-gray-900 select-none","aria-label":"Close modal",children:"close"})]}),(0,s.jsxs)("form",{className:"flex flex-col gap-4 min-w-[280px]",onSubmit:E,children:[(0,s.jsxs)("label",{className:"relative",children:[(0,s.jsx)("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"label"}),(0,s.jsx)("input",{type:"text",value:h,onChange:e=>x(e.target.value),placeholder:"Tag",className:"pl-10 pr-3 py-2 border border-gray-300 rounded w-full focus:outline-none",required:!0})]}),(0,s.jsxs)("label",{className:"relative",children:[(0,s.jsx)("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"language"}),(0,s.jsx)("input",{type:"url",value:b,onChange:e=>f(e.target.value),placeholder:"Website",className:"pl-10 pr-3 py-2 border border-gray-300 rounded w-full focus:outline-none",required:!0})]}),(0,s.jsxs)("label",{className:"relative",children:[(0,s.jsx)("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"person"}),(0,s.jsx)("input",{type:"text",value:g,onChange:e=>y(e.target.value),placeholder:"Username",className:"pl-10 pr-3 py-2 border border-gray-300 rounded w-full focus:outline-none",required:!0})]}),(0,s.jsxs)("label",{className:"relative",children:[(0,s.jsx)("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"lock"}),(0,s.jsx)("input",{ref:S,type:j?"text":"password",value:v,onChange:e=>w(e.target.value),placeholder:"Password",className:"pl-10 pr-28 py-2 border border-gray-300 rounded w-full focus:outline-none",required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>w(function(e=16){let t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+[]{}|;:,.<>?",r="";for(let s=0;s<e;s++)r+=t.charAt(Math.floor(Math.random()*t.length));return r}()),className:"absolute right-[80px] top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-900 flex items-center justify-center","aria-label":"Generate password",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-base h-5 w-5",children:"autorenew"})}),(0,s.jsx)("button",{type:"button",onClick:()=>N(!j),className:"absolute right-[45px] top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-900 flex items-center justify-center","aria-label":j?"Hide password":"Show password",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-base h-5 w-5",children:j?"visibility_off":"visibility"})}),(0,s.jsx)("button",{type:"button",onClick:()=>{S.current&&(S.current.select(),document.execCommand("copy"),k(!0),setTimeout(()=>k(!1),2e3))},className:"absolute right-[10px] top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-900 flex items-center justify-center","aria-label":"Copy password",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-base h-5 w-5",children:C?"done_all":"content_copy"})})]}),(0,s.jsx)("button",{type:"submit",className:"mt-4 bg-blue-100 text-black py-2 rounded hover:bg-blue-200 transition-colors font-semibold disabled:opacity-50",disabled:!h||!b||!g||!v,children:"Add Item"})]})]})}):null}function n(){let[e,t]=(0,a.useState)(!1);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("button",{onClick:()=>t(!0),className:" hover:scale-110 transition-transform duration-200 ease-in-out fixed right-10 bottom-20  md:absolute md:top-8 md:right-0 md:bottom-auto  bg-blue-100  text-gray-600 hover:text-gray-900 flex items-center justify-center  w-20 h-20 rounded-full  border-1 border-gray-600 p-0   md:w-auto md:h-auto md:rounded-3xl  md:py-[0.1rem] md:px-[0.5rem] ",children:[(0,s.jsx)("div",{className:"text-6xl pb-[0.7rem] md:text-base md:font-medium md:mr-1 md:pb-[0.1rem]",children:"+"}),(0,s.jsx)("span",{className:"hidden md:inline font-medium",children:"Add Item"})]}),(0,s.jsx)(o,{isModalOpen:e,setIsModalOpen:t})]})}var i=r(7691);function d({label:e}){let{folders:t,account:r,updateFolder:o}=(0,l.C)(),d="Password Generator"===e||"All Items"===e||"Password Health"===e||"Settings"===e,c=t.find(t=>t.id===e),u=d?e:c?.label||e,[m,p]=(0,a.useState)(!1),[h,x]=(0,a.useState)(u),b=(0,a.useRef)(null),f=e=>{c&&o(c.id,{label:e})},g=()=>{h.trim()&&h!==u&&f(h.trim()),p(!1)};return(0,s.jsxs)("div",{className:"mr-[2rem] ml-4 md:ml-[2rem] md:pt-[1.8rem] md:pb-[2rem] relative",children:["Password Generator"!==e&&"Settings"!==e&&(0,s.jsx)(n,{}),(0,s.jsx)("div",{className:"block md:hidden",children:(0,s.jsx)(i.A,{})}),(0,s.jsx)("div",{className:"hidden md:flex items-center space-x-2 text-4xl",children:m?(0,s.jsx)("input",{ref:b,value:h,onChange:e=>x(e.target.value),onBlur:g,onKeyDown:e=>{"Enter"===e.key?g():"Escape"===e.key&&(x(u),p(!1))},className:"text-4xl border-b border-gray-400 focus:outline-none px-1"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("label",{className:"pb-0",children:u}),!d&&(0,s.jsx)("span",{className:"material-symbols-outlined pt-2 text-xl text-gray-500 hover:text-black cursor-pointer",title:"Edit label",onClick:()=>p(!0),children:"edit"})]})})]})}function c({isModalOpen:e,setIsModalOpen:t,id:r,tag:o,website:n,username:i,password:d,securityLevel:c,folderID:u}){let[m,p]=(0,a.useState)(!1),[h,x]=(0,a.useState)(!1),[b,f]=(0,a.useState)(null),[g,y]=(0,a.useState)(!1),[v,w]=(0,a.useState)(o),[j,N]=(0,a.useState)(n),[C,k]=(0,a.useState)(i),[S,P]=(0,a.useState)(d),[E,I]=(0,a.useState)(c),[_,A]=(0,a.useState)(u),T=(0,a.useRef)(null),$=(0,a.useRef)(!1),L=(0,a.useRef)(null),{updateItem:M,account:O,folders:U}=(0,l.C)(),D=(e,t)=>{navigator.clipboard.writeText(e),f(t),setTimeout(()=>f(null),2e3)},z=e=>{"Enter"===e.key&&(G(),y(!1),e.currentTarget.blur())},R=()=>{t(!1),J(),$.current=!1},J=()=>{w(o),N(n),k(i),P(d),A(u),f(null),y(!1),document.activeElement instanceof HTMLElement&&document.activeElement.blur()},G=()=>{$.current||v===o&&j===n&&C===i&&S===d&&_===u||(M({account:O,id:r,tag:v,website:j,username:C,password:S,securityLevel:E,folderID:"0"===_?"0":_,sharedFolder:!1}),A(_),console.log("Modifiche salvate!"),$.current=!0)},W=()=>{g?(G(),y(!1)):(y(!0),setTimeout(()=>{L.current?.focus(),L.current?.select()},0))},F=U.find(e=>e.id===_),q=F?.shared===!0,H=F?.ownerEmail===O,X=!q||H;return(console.log("folderID:",_),console.log("selectedFolder:",F),console.log("folders:",U),m)?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm bg-black/30 px-4",children:(0,s.jsxs)("div",{ref:T,className:`bg-white rounded-lg shadow-lg relative p-6 transform transition-all duration-300 ease-in-out
        ${h?"opacity-100 scale-100":"opacity-0 scale-95"} max-w-[600px] w-full max-h-[90vh] overflow-auto`,children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-black",children:g?"Modifica":"Password"}),(0,s.jsx)("span",{onClick:e=>{e.preventDefault(),e.stopPropagation(),R()},className:"material-symbols-outlined cursor-pointer text-gray-600 hover:text-gray-900 select-none",children:"close"})]}),(0,s.jsxs)("form",{className:"flex flex-col gap-4 min-w-[280px]",onSubmit:e=>e.preventDefault(),children:[[{label:"label",value:v,setter:w,field:"tag",ref:L},{label:"language",value:j,setter:N,field:"website"},{label:"person",value:C,setter:k,field:"username"},{label:"lock",value:S,setter:P,field:"password"}].map(({label:e,value:t,setter:r,field:l,ref:a})=>(0,s.jsxs)("label",{className:"relative",children:[(0,s.jsx)("span",{className:"material-symbols-outlined absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:e}),(0,s.jsx)("input",{ref:a,type:"text",value:t,readOnly:!g,onChange:e=>r(e.target.value),onKeyDown:z,onBlur:()=>G(),className:"pl-10 pr-10 py-2 border border-gray-300 rounded w-full focus:outline-none",placeholder:l.charAt(0).toUpperCase()+l.slice(1)}),(0,s.jsx)("span",{onClick:()=>D(t,l),className:"material-symbols-outlined absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 cursor-pointer hover:text-gray-700 select-none transition-colors",children:b===l?"check":"content_copy"}),g&&"password"===l&&(0,s.jsx)("span",{onClick:()=>r(Math.random().toString(36).slice(-12)),className:"material-symbols-outlined absolute right-10 top-1/2 transform -translate-y-1/2 text-gray-400 cursor-pointer hover:text-gray-700 select-none transition-colors",children:"autorenew"})]},l)),g?(0,s.jsxs)("label",{className:"relative",children:[(0,s.jsx)("span",{className:"material-symbols-outlined absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"folder"}),(0,s.jsxs)("select",{value:_,onChange:e=>A(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded w-full focus:outline-none bg-white",disabled:!X,children:[(0,s.jsx)("option",{value:"0",children:"All Items"}),U.map(e=>(0,s.jsx)("option",{value:e.id,children:e.label},e.id))]}),!X&&(0,s.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-red-500",children:"You cannot move items from a shared folder unless you are the owner"})]}):(0,s.jsxs)("div",{className:"relative pl-10 py-2 border border-gray-300 rounded w-full bg-gray-50 flex items-center",children:[(0,s.jsx)("span",{className:"material-symbols-outlined absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:"folder"}),(0,s.jsx)("span",{className:"text-gray-700",children:"0"===_?"All Items":F?F.label:"..."})]}),g?(0,s.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,s.jsx)("button",{type:"button",onClick:J,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded transition-colors",children:"Annulla"}),(0,s.jsx)("button",{type:"button",onClick:W,className:"w-full bg-blue-100 hover:bg-blue-200 text-gray-700 font-semibold py-2 px-4 rounded transition-colors",children:"Salva modifiche"})]}):(0,s.jsx)("button",{type:"button",className:"mt-6 w-full bg-blue-100 hover:bg-blue-200 text-gray-700 font-semibold py-2 px-4 rounded transition-colors",onClick:W,children:"Modifica"})]})]})}):null}var u=r(7069);function m({id:e,tag:t,website:r,securityLevel:o,folderID:n,username:i,password:d}){let[m,p]=(0,a.useState)(!1),[h,x]=(0,a.useState)(!1),{deleteItem:b}=(0,l.C)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"bg-white flex items-center px-8 md:px-8 w-full h-[4rem] border-b border-gray-200 hover:bg-gray-50 transition-colors cursor-pointer",onClick:()=>p(!0),children:(0,s.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,s.jsx)("label",{className:"text-gray-900 font-medium w-1/4",children:t}),(0,s.jsx)("div",{className:"hidden md:flex w-1/4",children:(0,s.jsx)("a",{href:r.startsWith("http")?r:`http://${r}`,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"text-gray-600 hover:underline truncate",style:{maxWidth:"100%"},children:(e=>{try{let{hostname:t}=new URL(e.startsWith("http")?e:`http://${e}`);return t.replace(/^www\./,"")}catch{return e}})(r)})}),(0,s.jsx)("div",{className:"flex items-center gap-1 w-1/4",children:(()=>{switch(o){case"low":return"bg-red-500 bg-gray-300 bg-gray-300";case"medium":return"bg-yellow-500 bg-yellow-500 bg-gray-300";case"high":return"bg-green-500 bg-green-500 bg-green-500";default:return"bg-gray-300 bg-gray-300 bg-gray-300"}})().split(" ").map((e,t)=>(0,s.jsx)("div",{className:`w-12 h-1 ${e}`},t))}),(0,s.jsx)("span",{className:"material-symbols-outlined cursor-pointer text-gray-500 hover:text-red-500",onClick:e=>{e.stopPropagation(),x(!0)},children:"delete"})]})}),(0,s.jsx)(c,{isModalOpen:m,setIsModalOpen:p,id:e,tag:t,website:r,username:i,password:d,securityLevel:o,folderID:n}),h&&(0,s.jsx)(u.A,{folderName:t,onConfirm:()=>{b(e),x(!1)},onCancel:()=>{x(!1)}})]})}let p={unknown:0,low:1,medium:2,high:3};function h(){let{selection:e,ID:t,setID:r,getItems:a,items:o,folders:n,searchTerm:i}=(0,l.C)(),d=[];if("All Items"===e)d=o;else if("Password Health"===e)d=[...o].sort((e,t)=>p[e.securityLevel]-p[t.securityLevel]);else{let t=n.find(t=>t.id===e);d=t?.shared?o.filter(r=>r.folderID===e&&t.shared):o.filter(r=>r.folderID===e&&!t?.shared)}let c=d.filter(e=>e.tag.toLowerCase().includes(i.toLowerCase())||e.website.toLowerCase().includes(i.toLowerCase())||e.username.toLowerCase().includes(i.toLowerCase()));return(0,s.jsx)("div",{className:"px-0 md:px-0 flex flex-col gap-5",children:c.map((e,t)=>(0,s.jsx)(m,{id:e.id,tag:e.tag,website:e.website,securityLevel:e.securityLevel,folderID:e.folderID,password:e.password,username:e.username},t))})}function x(){return(0,s.jsx)("div",{className:"pl-0 pr-0 md:pl-[1.5rem] md:pr-[1.5rem]",children:(0,s.jsx)("div",{className:"flex justify-between px-8 pb-4 w-full h-[2rem] border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex justify-between w-full",children:[(0,s.jsx)("label",{className:"text-gray-600 font-medium w-1/4 text-sm uppercase tracking-wider",children:"Tag"}),(0,s.jsx)("label",{className:"hidden md:block text-gray-600 font-medium w-1/4 text-sm uppercase tracking-wider",children:"Website"}),(0,s.jsx)("label",{className:"text-gray-600 font-medium w-1/4 text-sm uppercase tracking-wider",children:"Security"}),(0,s.jsx)("span",{className:"material-symbols-outlined md:ml-0 ml-6",children:"arrow_drop_down"})]})})})}var b=r(2688);let f=(0,b.A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),g=(0,b.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),y=(0,b.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);function v(){let[e,t]=(0,a.useState)(12),[r,l]=(0,a.useState)(!0),[o,n]=(0,a.useState)(!0),[i,d]=(0,a.useState)(!0),[c,u]=(0,a.useState)(""),[m,p]=(0,a.useState)(!1),h=async()=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(c);else{let e=document.createElement("textarea");e.value=c,e.style.position="fixed",e.style.left="-9999px",document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e)}p(!0),setTimeout(()=>p(!1),2e3)}catch(e){console.error("Copy failed",e)}};return(0,s.jsxs)("div",{className:"w-full flex flex-col gap-6",children:[(0,s.jsxs)("div",{className:"w-full py-4 pl-4 pr-20 border-gray-200 border-[0.5px] bg-gray-100 text-center text-lg font-mono break-all relative",children:[(0,s.jsxs)("div",{className:"absolute right-5 md:top-5 md:right-30 flex gap-2",children:[(0,s.jsx)("button",{onClick:h,className:"p-1 rounded-full hover:bg-gray-200",title:"Copy",children:m?(0,s.jsx)(f,{size:16,className:"text-green-600"}):(0,s.jsx)(g,{size:18})}),(0,s.jsx)("button",{onClick:()=>{u(function(e,t,r,s){let l="abcdefghijklmnopqrstuvwxyz";if(t&&(l+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),r&&(l+="0123456789"),s&&(l+="@!$%&*"),0===l.length)return"";let a="";for(let t=0;t<e;t++){let e=Math.floor(Math.random()*l.length);a+=l[e]}return a}(e,r,o,i))},className:"p-1 rounded-full hover:bg-gray-200",title:"Regenerate",children:(0,s.jsx)(y,{size:16})})]}),c]}),(0,s.jsxs)("div",{className:"flex items-center pl-8 pr-5 md:pl-[10%] md:pr-[8%] px-5 border-gray-200 border-b-1 pb-5",children:[(0,s.jsx)("label",{htmlFor:"length-slider",className:"text-sm bg-white font-medium text-gray-700",children:"Length"}),(0,s.jsxs)("div",{className:"w-full flex items-center justify-end",children:[(0,s.jsx)("input",{id:"length-slider",type:"range",min:4,max:32,value:e,onChange:e=>t(Number(e.target.value)),className:"w-50 md:w-[80%] h-2  border-gray-200 border-[0.5px] [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:md:h-4 [&::-webkit-slider-thumb]:md:w-4 [&::-webkit-slider-thumb]:bg-blue-200 [&::-webkit-slider-thumb]:hover:bg-blue-300 [&::-webkit-slider-thumb]:border-[0.5px] [&::-webkit-slider-thumb]:border-gray-300 [&::-webkit-slider-thumb]:cursor-pointer bg-gray-100 rounded-3xl appearance-none accent-blue-100 transition-all duration-200"}),(0,s.jsx)("span",{className:"ml-4 w-10 text-sm text-black",children:e})]})]}),(0,s.jsxs)("div",{className:"flex w-full flex-col gap-3 text-sm text-gray-700",children:[(0,s.jsxs)("div",{className:"flex w-full items-center justify-between border-b-1 border-gray-200 pb-5 px-8 md:px-[10%]",children:[(0,s.jsx)("span",{children:"Include Uppercase Letters (A-Z)"}),(0,s.jsx)("button",{onClick:()=>l(!r),className:`px-4 py-1 rounded-full text-sm font-medium border ${r?"bg-blue-300 ease-in-out duration-200 text-gray-700 border-blue d-300":"bg-blue-100 ease-in-out duration-200 text-gray-700 border-blue d-300"}`,children:r?"On":"Off"})]}),(0,s.jsxs)("div",{className:"flex w-full items-center justify-between border-b-1 border-gray-200 pb-5 px-8 md:px-[10%]",children:[(0,s.jsx)("span",{children:"Include Numbers (from 0 to 9)"}),(0,s.jsx)("button",{onClick:()=>n(!o),className:`px-4 py-1 rounded-full text-sm font-medium border ${o?"bg-blue-300 ease-in-out duration-200 text-gray-700 border-blue d-300":"bg-blue-100 ease-in-out duration-200 text-gray-700 border-gray-300"}`,children:o?"On":"Off"})]}),(0,s.jsxs)("div",{className:"flex w-full items-center justify-between border-b-1 border-gray-200 pb-5 px-8 md:px-[10%]",children:[(0,s.jsx)("span",{children:"Include Symbols (@!$%&) "}),(0,s.jsx)("button",{onClick:()=>d(!i),className:`px-4 py-1 rounded-full text-sm font-medium border ${i?"bg-blue-300 ease-in-out duration-200 text-gray-700 border-blue d-300":"bg-blue-100 ease-in-out duration-200 text-gray-700 border-blue d-300"}`,children:i?"On":"Off"})]})]})]})}var w=r(6189);function j({onConfirm:e,onCancel:t}){return null}function N(){let{account:e,password:t,changePassword:r}=(0,l.C)(),[o,n]=(0,a.useState)(!1),[i,d]=(0,a.useState)(!1),[c,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(""),[h,x]=(0,a.useState)(""),[b,f]=(0,a.useState)(""),[g,y]=(0,a.useState)(!1),[v,N]=(0,a.useState)(!1),[C,k]=(0,a.useState)(!1),[S,P]=(0,a.useState)(!1),E=(0,w.useRouter)(),I=async()=>{let e=await r(m,h,b);e.success?_():alert(e.error)},_=()=>{n(!1),p(""),x(""),f(""),y(!1),N(!1),k(!1)};return(0,s.jsxs)("div",{className:"w-full flex flex-col gap-5",children:[(0,s.jsx)("div",{className:"w-full py-4 pl-4 pr-20 border-gray-200 border-[0.5px] bg-gray-100 text-center text-lg font-mono break-all relative"}),(0,s.jsxs)("div",{className:"flex w-full flex-col gap-3 text-sm text-gray-700",children:[(0,s.jsxs)("div",{className:"flex w-full items-center justify-between border-b border-gray-200 pb-5 px-8 md:px-[10%]",children:[(0,s.jsx)("span",{className:"text-gray-500 font-medium",children:"User"}),(0,s.jsx)("span",{className:"font-semibold",children:e})]}),(0,s.jsxs)("div",{className:"flex w-full items-center justify-between border-b border-gray-200 pb-5 px-8 md:px-[10%]",children:[(0,s.jsx)("span",{className:"text-gray-500 font-medium",children:"Password"}),(0,s.jsx)("input",{type:"password",value:t,readOnly:!0,className:"bg-transparent border-none outline-none font-semibold w-[180px] select-all text-right",style:{letterSpacing:"2px"}})]}),(0,s.jsxs)("div",{className:"flex w-full justify-end gap-2 border-b border-gray-200 pb-4 px-8 md:px-[10%]",children:[(0,s.jsx)("button",{className:"rounded bg-blue-100 text-gray-700 px-3 py-1 text-sm hover:bg-blue-200 transition",onClick:()=>n(!0),children:"Edit Password"}),(0,s.jsx)("button",{className:"rounded bg-blue-100 text-gray-700 px-3 py-1 text-sm hover:bg-blue-200 transition",onClick:()=>P(!0),children:"Logout"})]})]}),i&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm bg-black/30 px-4",children:(0,s.jsxs)("div",{className:`bg-white rounded-lg shadow-lg relative p-6 transform transition-all duration-300 ease-in-out ${c?"opacity-100 scale-100":"opacity-0 scale-95"} max-w-md w-full max-h-[90vh] overflow-auto`,children:[(0,s.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,s.jsx)("h2",{className:"text-lg font-semibold",children:"Edit Password"})}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:g?"text":"password",value:m,onChange:e=>p(e.target.value),placeholder:"Old password",className:"border border-gray-300 rounded px-3 py-2 pr-10 w-full focus:outline-none"}),(0,s.jsx)("button",{type:"button",onClick:()=>y(e=>!e),className:"absolute right-2 top-2.5 text-gray-600 hover:text-gray-900","aria-label":"Toggle password visibility",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-base",children:g?"visibility_off":"visibility"})})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:v?"text":"password",value:h,onChange:e=>x(e.target.value),placeholder:"New password",className:"border border-gray-300 rounded px-3 py-2 pr-10 w-full focus:outline-none"}),(0,s.jsx)("button",{type:"button",onClick:()=>N(e=>!e),className:"absolute right-2 top-2.5 text-gray-600 hover:text-gray-900","aria-label":"Toggle password visibility",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-base",children:v?"visibility_off":"visibility"})})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:C?"text":"password",value:b,onChange:e=>f(e.target.value),placeholder:"Repeat new password",className:"border border-gray-300 rounded px-3 py-2 pr-10 w-full focus:outline-none"}),(0,s.jsx)("button",{type:"button",onClick:()=>k(e=>!e),className:"absolute right-2 top-2.5 text-gray-600 hover:text-gray-900","aria-label":"Toggle password visibility",children:(0,s.jsx)("span",{className:"material-symbols-outlined text-base",children:C?"visibility_off":"visibility"})})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,s.jsx)("button",{onClick:_,className:"px-3 py-1 text-sm rounded bg-gray-200 hover:bg-gray-300 transition",children:"Cancel"}),(0,s.jsx)("button",{onClick:I,className:"px-3 py-1 text-sm rounded bg-blue-100 text-gray-700 hover:bg-blue-200 transition",children:"Confirm"})]})]})]})}),S&&(0,s.jsx)(j,{onConfirm:()=>{sessionStorage.clear(),E.push("/login")},onCancel:()=>P(!1)})]})}function C(){let{selection:e}=(0,l.C)();return(0,s.jsxs)("div",{className:"h-full w-full flex flex-col",children:[(0,s.jsx)("div",{className:"border-b border-gray-200 md:border-0",children:(0,s.jsx)(d,{label:e})}),"Password Generator"!==e&&"Settings"!==e&&(0,s.jsx)("div",{className:"hidden md:block",children:(0,s.jsx)(x,{})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto px-0 md:px-6",children:"Password Generator"===e?(0,s.jsx)(v,{}):"Settings"===e?(0,s.jsx)(N,{}):(0,s.jsx)(h,{})})]})}r(1215)},8014:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/emmanuelepiola/pass-vault/app/app/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/emmanuelepiola/pass-vault/app/app/layout.tsx","default")},8335:()=>{},8503:(e,t,r)=>{Promise.resolve().then(r.bind(r,4145))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")},9766:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(7413);function l(){return(0,s.jsx)("div",{className:"h-screen w-screen flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xl animate-pulse",children:"Caricamento..."})})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,435],()=>r(2641));module.exports=s})();