(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{3410:(e,t,s)=>{Promise.resolve().then(s.bind(s,8007))},7123:(e,t,s)=>{"use strict";s.d(t,{J:()=>r});let r=s(9509).env.NEXT_PUBLIC_API_URL||"http://localhost:8000"},8007:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(5155),a=s(2115),n=s(6874),o=s.n(n),l=s(5695),c=s(8749),i=s(2657),d=s(6083),x=s(7123);function h(){let[e,t]=(0,a.useState)(""),[s,n]=(0,a.useState)(""),[h,u]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),[g,f]=(0,a.useState)(""),[b,j]=(0,a.useState)(""),w=(0,l.useRouter)(),y=async t=>{t.preventDefault(),f(""),j("");try{let t=await fetch("".concat(x.J,"/checkEmailHandler"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});await t.json(),t.ok?(j("Email found! Proceed to enter your password."),u(!0)):f("Invalid email")}catch(e){console.error("Error:",e),f("An unexpected error occurred")}},v=async t=>{t.preventDefault(),f(""),j("");try{let t=await fetch("".concat(x.J,"/loginHandler"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:s})}),r=await t.json();t.ok?(sessionStorage.setItem("userId",r.user_id),j("Login successful! Redirecting..."),setTimeout(()=>{w.push("/dashboard")},2e3)):f("Invalid password")}catch(e){console.error("Error:",e),f("An unexpected error occurred")}},N=(0,d.mg)({onSuccess:async e=>{try{let t=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:"Bearer ".concat(e.access_token)}}).then(e=>e.json()),s=await fetch("".concat(x.J,"/auth/google"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email})}),r=await s.json();s.ok?(sessionStorage.setItem("userId",r.user_id),j("Login successful! Redirecting..."),setTimeout(()=>{w.push("/dashboard")},2e3)):f("Failed to authenticate with Google")}catch(e){console.error("Error:",e),f("An unexpected error occurred")}},onError:()=>{f("Google login failed")}}),A=e=>{"Enter"===e.key&&(h?v(e):y(e))};return h?(0,r.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-[400px] bg-white rounded-lg border border-black/10 shadow-sm p-8",children:[(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsx)("div",{className:"w-16 h-16",children:(0,r.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 180 180",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{cx:"90",cy:"90",r:"90",fill:"#54A9DA"}),(0,r.jsx)("path",{d:"M117 63.5C117 77.5833 105.807 89 92 89C78.1929 89 67 77.5833 67 63.5C67 49.4167 78.1929 38 92 38C105.807 38 117 49.4167 117 63.5Z",fill:"white"}),(0,r.jsx)("path",{d:"M90.5 63L123 132H58L90.5 63Z",fill:"white"})]})})}),(0,r.jsx)("h1",{className:"text-[28px] font-medium text-center text-gray-900 mb-6",children:"Login"}),(0,r.jsxs)("div",{className:"text-center text-gray-700 mb-4",children:[(0,r.jsx)("p",{children:"You are logging in as:"}),(0,r.jsx)("p",{className:"font-medium text-gray-900",children:e})]}),(0,r.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:m?"text":"password",value:s,onChange:e=>n(e.target.value),onKeyPress:A,className:"block w-full px-4 py-3 pr-12 border border-black/5 rounded-lg bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-0",placeholder:"Password",required:!0}),(0,r.jsx)("button",{type:"button",onClick:()=>p(!m),className:"absolute inset-y-0 right-3 flex items-center text-gray-600 hover:text-gray-900",tabIndex:-1,children:m?(0,r.jsx)(c.A,{size:20}):(0,r.jsx)(i.A,{size:20})})]}),(0,r.jsx)("div",{className:"text-right mt-1",children:(0,r.jsx)(o(),{href:"/recover-password",className:"text-sm text-[#54A9DA] hover:text-[#4898c9] font-medium",children:"Forgot your password?"})}),g&&(0,r.jsx)("p",{className:"text-red-500 text-sm text-center",children:g}),b&&(0,r.jsx)("p",{className:"text-green-600 text-sm text-center",children:b}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-[#54A9DA]/50 text-gray-900 py-3 px-4 rounded-[50px] hover:bg-[#4898c9]/50 transition-colors font-medium border border-black/5",children:"Login"})]}),(0,r.jsxs)("p",{className:"mt-6 text-center text-[15px] text-gray-600",children:["Don't have an account?"," ",(0,r.jsx)(o(),{href:"/signup",className:"text-[#54A9DA] hover:text-[#4898c9] transition-colors font-medium",children:"Sign up"})]})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"w-[400px] bg-white rounded-lg border border-black/10 shadow-sm p-8",children:[(0,r.jsx)("div",{className:"flex justify-center mb-6",children:(0,r.jsx)("div",{className:"w-16 h-16",children:(0,r.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 180 180",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("circle",{cx:"90",cy:"90",r:"90",fill:"#54A9DA"}),(0,r.jsx)("path",{d:"M117 63.5C117 77.5833 105.807 89 92 89C78.1929 89 67 77.5833 67 63.5C67 49.4167 78.1929 38 92 38C105.807 38 117 49.4167 117 63.5Z",fill:"white"}),(0,r.jsx)("path",{d:"M90.5 63L123 132H58L90.5 63Z",fill:"white"})]})})}),(0,r.jsx)("h1",{className:"text-[28px] font-medium text-center text-gray-900 mb-6",children:"Login"}),(0,r.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),onKeyPress:A,className:"block w-full px-4 py-3 border border-black/5 rounded-lg bg-white text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-0",placeholder:"Email address",required:!0})}),g&&(0,r.jsx)("p",{className:"text-red-500 text-sm text-center",children:g}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-[#54A9DA]/50 text-gray-900 py-3 px-4 rounded-[50px] hover:bg-[#4898c9]/50 transition-colors font-medium border border-black/5",children:"Continue"}),(0,r.jsxs)("div",{className:"relative py-2",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-black/5"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsx)("span",{className:"px-4 bg-white text-gray-500 text-sm",children:"Or"})})]}),(0,r.jsxs)("button",{type:"button",onClick:()=>N(),className:"w-full flex items-center justify-center gap-2 bg-[#54A9DA]/30 text-gray-900 py-3 px-4 rounded-[50px] hover:bg-[#4898c9]/30 transition-colors font-medium border border-black/5",children:[(0,r.jsx)("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),"Continue with Google"]})]}),(0,r.jsxs)("p",{className:"mt-6 text-center text-[15px] text-gray-600",children:["Don't have an account?"," ",(0,r.jsx)(o(),{href:"/signup",className:"text-[#54A9DA] hover:text-[#4898c9] transition-colors font-medium",children:"Sign up"})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[766,441,684,358],()=>t(3410)),_N_E=e.O()}]);